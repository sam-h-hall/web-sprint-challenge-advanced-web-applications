{"ast":null,"code":"var _jsxFileName = \"/Users/samhall/Documents/All Things Lambda/Lambda-Sprints/copies/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { Formik } from \"formik\";\nimport axios from \"axios\";\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const history = useHistory();\n\n  const handleSubmit = values => {\n    // preventDefault();\n    console.log(values);\n    axiosWithAuth().post(\"http://localhost:5000/api/login\", values).then(res => {\n      console.log(\"Success\", res);\n      localStorage.setItem(\"authToken\", res.data.payload);\n      history.push(\"/bubble-page\");\n    }).catch(err => {\n      console.log(err);\n      localStorage.removeItem(\"authToken\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Welcome to the Bubble App!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, \"Build a login page here\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    onSubmit: (values, {\n      resetForm\n    }) => {\n      handleSubmit(values);\n      resetForm();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, props => {\n    const {\n      values,\n      handleSubmit,\n      handleChange\n    } = props;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: values.username,\n      placeholder: \"username\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"password\",\n      value: values.password,\n      placeholder: \"password\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"Submit\"));\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/samhall/Documents/All Things Lambda/Lambda-Sprints/copies/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useHistory","axiosWithAuth","Formik","axios","Login","history","handleSubmit","values","console","log","post","then","res","localStorage","setItem","data","payload","push","catch","err","removeItem","username","password","resetForm","props","handleChange"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAMC,OAAO,GAAGL,UAAU,EAA1B;;AAEA,QAAMM,YAAY,GAAIC,MAAD,IAAY;AAC/B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAN,IAAAA,aAAa,GACVS,IADH,CACQ,iCADR,EAC2CH,MAD3C,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbJ,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBG,GAAvB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCF,GAAG,CAACG,IAAJ,CAASC,OAA3C;AACAX,MAAAA,OAAO,CAACY,IAAR,CAAa,cAAb;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACdX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACAN,MAAAA,YAAY,CAACO,UAAb,CAAwB,WAAxB;AACD,KAVH;AAWD,GAdD;;AAgBA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAE;AAAEC,MAAAA,QAAQ,EAAE,EAAZ;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KADjB;AAEE,IAAA,QAAQ,EAAE,CAACf,MAAD,EAAS;AAAEgB,MAAAA;AAAF,KAAT,KAA2B;AACnCjB,MAAAA,YAAY,CAACC,MAAD,CAAZ;AACAgB,MAAAA,SAAS;AACV,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMIC,KAAD,IAAW;AACV,UAAM;AAAEjB,MAAAA,MAAF;AAAUD,MAAAA,YAAV;AAAwBmB,MAAAA;AAAxB,QAAyCD,KAA/C;AACA,wBACE;AAAM,MAAA,QAAQ,EAAElB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAEC,MAAM,CAACc,QAHhB;AAIE,MAAA,WAAW,EAAC,UAJd;AAKE,MAAA,QAAQ,EAAEI,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAQE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAElB,MAAM,CAACe,QAHhB;AAIE,MAAA,WAAW,EAAC,UAJd;AAKE,MAAA,QAAQ,EAAEG,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eAeE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF,CADF;AAmBD,GA3BH,CADF,CAHF,CADF;AAqCD,CA1DD;;AA4DA,eAAerB,KAAf","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport { Formik } from \"formik\";\nimport axios from \"axios\";\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const history = useHistory();\n\n  const handleSubmit = (values) => {\n    // preventDefault();\n    console.log(values);\n    axiosWithAuth()\n      .post(\"http://localhost:5000/api/login\", values)\n      .then((res) => {\n        console.log(\"Success\", res);\n        localStorage.setItem(\"authToken\", res.data.payload);\n        history.push(\"/bubble-page\");\n      })\n      .catch((err) => {\n        console.log(err);\n        localStorage.removeItem(\"authToken\");\n      });\n  };\n\n  return (\n    <>\n      <h1>Welcome to the Bubble App!</h1>\n      <p>Build a login page here</p>\n      <div>\n        <Formik\n          initialValues={{ username: \"\", password: \"\" }}\n          onSubmit={(values, { resetForm }) => {\n            handleSubmit(values);\n            resetForm();\n          }}>\n          {(props) => {\n            const { values, handleSubmit, handleChange } = props;\n            return (\n              <form onSubmit={handleSubmit}>\n                <input\n                  type=\"text\"\n                  name=\"username\"\n                  value={values.username}\n                  placeholder=\"username\"\n                  onChange={handleChange}\n                />\n                <input\n                  type=\"text\"\n                  name=\"password\"\n                  value={values.password}\n                  placeholder=\"password\"\n                  onChange={handleChange}\n                />\n                <button type=\"submit\">Submit</button>\n              </form>\n            );\n          }}\n        </Formik>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}